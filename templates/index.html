<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link href='http://fonts.googleapis.com/css?family=Alegreya:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,300,200' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/static/js/leaflet-0.7.3/leaflet.css" />
    <link rel="stylesheet" href="/static/style.css" type="text/css" />
    <title>journal</title>
</head>
<body>

<div class="main">
    <div class="headline">
        <h1>Today is <span id="headline-date">{{ datetime.now().strftime('%A, %d. %B %Y') }}</span></h1>
    </div>
    <div class="new-area">
        <h2 class="center-text">
            <span>What happened today?</span>
            <span class="controls">
                <span class="add">+</span> <span class="sub">-</span>
            </span>
        </h2>
        <form action="{{ url_for('insert') }}" method="POST">

            <div class="text-area">
                <textarea name="text"></textarea>
            </div>

            <div class="location-area center-text">
                <h2>Where were I today?</h2>
                <div id="map">
                </div>
            </div>
            {#
            <div class="photo-upload-area center-text">
                <h2>Do pictures tell more than thousand words?</h2>
                <div class="drop-area">Drop pictures here.</div>
            </div>
            #}
            <div class="submit-area margin-top">
                <input type="submit" value="Add entry" class="button wide-button center ">
            </div>

            <input type="hidden" name="date" value="" id="form-date">
            <input type="hidden" name="lat" value="" id="form-lat">
            <input type="hidden" name="lng" value="" id="form-lng">
        </form>
    </div>

    <div class="headline">
        <h1>Timeline</h1>
    </div>

    {% for entry in entries %}
        <div class="entry">
            <h2>{{ entry.date.strftime('%A, %d. %B %Y') }}</h2>
            <div class="text">
                {{ entry.text_markdown|safe }}
                <div class="location center-text">
                    I were here today: <a href="#" onClick="Map.showEntryMap({{ entry.id }});return false;">{{ entry.lat }}, {{ entry.lng }}</a>

                    <div id="entry-map-{{ entry.id }}" class="hidden entry-map" data-lat="{{ entry.lat }}" data-lng="{{ entry.lng }}">

                    </div>

                </div>

            </div>

        </div>
    {% endfor %}
</div>
<script src="/static/js/jquery-2.1.1.min.js" type="application/javascript"></script>
<script src="/static/js/leaflet-0.7.3/leaflet.js" type="application/javascript"></script>
<script src="/static/js/moment.min.js" type="application/javascript"></script>
<script src="/static/js/code.js" type="application/javascript"></script>
</body>
</html>